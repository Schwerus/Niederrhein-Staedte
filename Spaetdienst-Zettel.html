<!DOCTYPE html>
<!-- This tiny little file is just created for internal use at the company Funkemedien GmbH & Co. KGaA Group -->
<html lang="de">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Interaktive Tabelle</title>
      <style>
         body {
            margin: 0 auto;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            font-size: 0.9em;
         }
         table {
            width: 100%;
            border-collapse: collapse;
         }
         th,
         td {
            border: 1px solid black;
            padding: 5px;
            text-align: center;
         }
         .dark-green {
            background-color: #018101;
            color: white;
         }
         .violet {
            background-color: #fe01f4;
            color: white;
         }

         .blue {
            background-color: #1f91ff;
            color: white;
         }
         .clickable {
            cursor: pointer;
         }

         .keinKlick {
            cursor: default;
         }

         .Farbwechsel {
            color: rgb(12, 12, 12);
         }

         .NRZ {
            color: white;
            background-color: green;
            font-size: 25px;
            font-weight: bold;
            padding: 5px;
         }

        
      </style>
      <style>
         #eventTable {
            table-layout: fixed;
            width: 1000px;
         }

         /* Setzt feste Breite für die ersten acht Kopfzellen */
         #eventTable th:nth-child(n + 1) {
            width: 95px;
         }

         #eventTable th:nth-child(n + 2):nth-child(-n + 4) {
            width: 60px;
         }

         #eventTable th:nth-child(n + 5):nth-child(-n + 12) {
            width: 30px;
         }
         #eventTable td:nth-child(n + 9):nth-child(-n + 14) {
            color: rgb(138, 136, 136);
         }
         #eventTable th:nth-child(n + 13):nth-child(-n + 14) {
            width: 50px;
         }
         h2 {
            color: #018101;
            font-size: 1.8em;
         }
         th,
         td {
            border: 4px solid #dddddd;
            border-style: solid;
            text-align: center;
            padding: 8px;
         }
      </style>
   </head>
   <body>
      <center>

         <table id="eventTable">         
            <div class="NRZ">NRZ Spätdienst-"Zettel"</div>
            <br />
            <br />
            <br>
            <br>
            <tr>
               <th>Redaktion</th>
               <th>Komplett raus</th>
               <th>Zum Lesen</th>
               <th>Vorbau</th>
               <th>1</th>
               <th>2</th>
               <th>3</th>
               <th>4</th>
               <th>5</th>
               <th>6</th>
               <th>7</th>
               <th>8</th>
               <th></th>
               <th></th>
            </tr>
            <!-- Weitere Zeilen werden per JavaScript erzeugt -->
         </table>
      </center>

      <script>
         const table = document.getElementById("eventTable");
         const areas = [
            "Moers",
            "Rheinberg",
            "Dinslaken",
            "Wesel",
            "Issel",
            "Düsseldorf",
            "DDorf Sport",
            "Niederrhein",
            "Kreisseite AAA"
         ];

         function toggleDarkGreen(event) {
            const Nummern = [1, 2, 3];
            const colors = ["green", "#fe01f4", "white"];
            const schriftfarbe = ["black", "white", "grey"];
            const target = event.target;
            const currentIndex = Nummern.indexOf(target.add);

            const nextIndex = (currentIndex + 1) % Nummern.length;

            target.style.backgroundColor = colors[nextIndex];
            target.style.color = schriftfarbe[nextIndex];
            target.add = Nummern[nextIndex];
         }
         // Für Seiten 1-6
         function toggleDarkGreenIssel(event) {
            const Nummern = [1, 2, 3, 4];
            const colors = ["green", "#1f91ff", "#fe01f4", "white"];
            const schriftfarbe = ["black", "black", "white", "grey"];
            const target = event.target;
            const currentIndex = Nummern.indexOf(target.add);

            const nextIndex = (currentIndex + 1) % Nummern.length;

            target.style.backgroundColor = colors[nextIndex];
            target.style.color = schriftfarbe[nextIndex];
            target.add = Nummern[nextIndex];
         }

         /*
         Um den gewaltigen FUTTSACK zu umgehen, der auftaucht, wenn man ZWEIMAL "white" als Farbe nimmt(es findet dann nämlich kein Toggle zum Anfang statt, sodass die Schleife nach EINEM MAL stehen bleibt), wurde eine weitere Variable "Nummern" hinzugefügt, an der sich die Abarbeitung der Schleife jetzt orientieren sollte.
         Das Konstrukt target.add ist nur ein Hilfswerkzeug - für o.g. Workaround.
         */

         function UmlandEvent(event) {
            const Nummern = [1, 2, 3, 4];
            const colors = ["white", "#018101", "#fe01f4", "white"];
            const schriftfarbe = ["grey", "black", "white", "grey" ];
            const texts = ["NV", "Umland", "Umland", "Umland"];

            const target = event.target;
            const currentIndex = Nummern.indexOf(target.add);

            const nextIndex = (currentIndex + 1) % Nummern.length;
            target.textContent = texts[nextIndex];
            target.style.backgroundColor = colors[nextIndex];
            target.style.color = schriftfarbe[nextIndex];
            target.add = Nummern[nextIndex];
         }

         function toggleGreenWhite(event) {
            const colors = ["green", "white"];
            //const texts = ['ABC', 'DEF', 'GHI'];
            const target = event.target;
            const currentIndex = colors.indexOf(target.style.backgroundColor);
            const nextIndex = (currentIndex + 1) % colors.length;

            //console.log("Aktuelle Farbe:", colors[currentIndex]);

            target.style.backgroundColor = colors[nextIndex];

            //target.textContent = texts[nextIndex];
         }

         function toggleVorbau(event) {
            const texts = ["OK", " "];
            const target = event.target;
            const currentIndex = texts.indexOf(target.textContent);
            const nextIndex = (currentIndex + 1) % texts.length;

            console.log("Aktueller Wert:", texts[currentIndex]);
            target.textContent = texts[nextIndex];
         }

         function handleNVclick(event) {
            let cell = event.target;
            let isGreen = cell.classList.contains("dark-green");
            let isViolet = cell.classList.contains("violet");
            if (cell.textContent === "NV") {
               cell.textContent = "";
               cell.classList.add("dark-green");
            } else if (isGreen) {
               cell.classList.remove("dark-green");
               cell.classList.add("violet");
               cell.textContent = "";
            } else if (isViolet) {
               cell.classList.remove("violet");
               //cell.classList.add("violet");
               cell.textContent = "";
            } else {
               cell.classList.remove("violet");
               cell.textContent = "NV";
            }
            console.log(cell); // Ausgabe des Inhalts von "cell"
         }
         // Für Seiten 7-8 in Issel
         function handleNVclickIssel(event) {
            let cell = event.target;
            let isGreen = cell.classList.contains("dark-green");
            let isViolet = cell.classList.contains("violet");
            let isBlue = cell.classList.contains("blue");
            if (cell.textContent === "NV") {
               cell.textContent = "";
               cell.classList.add("dark-green");
            } else if (isGreen) {
               cell.classList.remove("dark-green");
               cell.classList.add("blue");
               cell.textContent = "";
            } else if (isBlue) {
               cell.classList.remove("blue");
               cell.classList.add("violet");
               cell.textContent = "";
            } else if (isViolet) {
               cell.classList.remove("violet");
               //cell.classList.add("violet");
               cell.textContent = "";
            } else {
               cell.classList.remove("violet");
               cell.textContent = "NV";
            }
            console.log(cell); // Ausgabe des Inhalts von "cell"
         }

         // Hinzuf�gen der weiteren Zeilen
         areas.forEach((area) => {
            const row = table.insertRow();
            row.insertCell().textContent = area;

            for (let i = 0; i < 13; i++) {
               const cell = row.insertCell();
               cell.textContent = "";
               cell.classList.add("clickable"); // Alle Zellen klickbar machen

               if (area === "Issel") {
                  if (i === 0) {
                     cell.addEventListener("click", toggleGreenWhite);
                     cell.textContent = "";
                  } else if (i === 1 || i === 2) {
                     cell.addEventListener("click", toggleVorbau);
                  } else if (i >= 3 && i <= 8) {
                     cell.addEventListener("click", toggleDarkGreenIssel);
                  } else if (i === 9 || i === 10) {
                     cell.addEventListener("click", handleNVclickIssel);
                  } else if (i === 11) {
                     cell.addEventListener("click", toggleDarkGreen);
                     cell.textContent = "Fenster";
                  } else if (i === 12) {
                     cell.textContent = "-";
                     cell.classList.add("keinKlick");
                  }

                  // DÜSSELDORF
               } else if (area === "Düsseldorf") {
                  if (i === 0) {
                     cell.addEventListener("click", toggleGreenWhite);
                     cell.textContent = "";
                  } else if ( i === 2) {
                     cell.addEventListener("click", toggleVorbau);
                  } else if (i === 1 || i >= 3 && i <= 8) {
                     // Klick-Event a) f�r "1"-"4", "Fenster" und "Umland"
                     cell.addEventListener("click", toggleDarkGreen);
                  } else if (i === 9 || i === 10) {
                     // Klick-Event d) f�r "5"
                     cell.addEventListener("click", handleNVclick);
                  } else if (i === 11) {
                     // Klick-Event a) f�r "Fenster" und "Umland"
                     cell.addEventListener("click", toggleDarkGreen);
                     cell.textContent = "NDFF_1";
                  } else if (i === 12) {
                     cell.addEventListener("click", toggleDarkGreen);
                     cell.textContent = "NDFF_2";
                  }

                  // Niederrhein
               } else if (area === "Niederrhein") {
                  if (i === 0) {
                     cell.addEventListener("click", toggleGreenWhite);
                     cell.textContent = "";
                  } else if (i === 1 || i === 2) {
                     cell.addEventListener("click", toggleVorbau);
                  } else if (i >= 3 && i <= 12) {
                     cell.textContent = "-";
                     cell.classList.add("keinKlick");
                  }

                } else if (area === "Kreisseite AAA") {
                  if (i === 1) {
                     cell.addEventListener("click", toggleVorbau);
                     cell.textContent = "";
                  }
                  else if (i >= 2 && i <= 12 || i < 1) {
                     cell.textContent = "-";
                     cell.classList.add("keinKlick");
                  }

                  // NICHT!!! DDORF SPORT
               } else if (area != "DDorf Sport") {
                  if (i === 0) {
                     cell.addEventListener("click", toggleGreenWhite);
                     cell.textContent = "";
                  } else if (i === 1 || i === 2) {
                     cell.addEventListener("click", toggleVorbau);
                  } else if (i >= 3 && i <= 6) {
                     cell.addEventListener("click", toggleDarkGreen);
                  } else if (i === 7 || i === 8) {
                     cell.addEventListener("click", handleNVclick);
                  } else if (i === 9 || i === 10) {
                     cell.classList.add("keinKlick");
                     cell.textContent = "-";
                  } else if (i === 11) {
                     cell.addEventListener("click", toggleDarkGreen);
                     cell.textContent = "Fenster";
                  } else if (i === 12) {
                     cell.addEventListener("click", UmlandEvent);
                     cell.textContent = "Umland";
                  }
               }

               // DDORF SPORT
               else if (area === "DDorf Sport") {
                  if (i === 0) {
                     cell.addEventListener("click", toggleGreenWhite);
                     cell.textContent = "";
                  } else if (i === 1) {
                     cell.classList.add("keinKlick");
                  } else if (i === 2) {
                     cell.addEventListener("click", toggleVorbau);
                  } else if (i === 3) {
                     cell.addEventListener("click", toggleDarkGreen);
                  } else if (i >= 4 && i <= 5) {
                     cell.addEventListener("click", handleNVclick);
                  } else if (i >= 6 && i <= 12) {
                     cell.textContent = "-";
                     cell.classList.add("keinKlick");
                  }
               }

               // Hier dann DDorf Sport einfügen mit eigenem Eventhandler, der nru 1 auf grün und 2 auf OK setzt, sowie 1-3 auf toggle Green oder NV... wird noch spannend
               /*else {
                  // Generell
                  if (i === 11 || i === 12) {
                     cell.addEventListener("click", toggleDarkGreen);
                  }
               }
               */
            }
         });
      </script>
   </body>
</html>
